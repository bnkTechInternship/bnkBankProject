<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
</head>
<style>
    html, body {
        width : 100%;
        height : 100%;
    }
    body {
        height : 300%;
        display: flex;
        justify-content: center;
    }
    #container {
        position : absolute;
        top : 1800px;
        left : 400px;
        width : 300px;
        height : 200px;
        display: flex;
        justify-content: space-around;
        align-items: center;
        border : 1px solid black;
        align-self: center;
        align-content: center;
        flex-wrap: wrap;
    }

    img {
        width : 80px;
        height : 80px;
    }

    .ab {
        position : absolute;
    }    
</style>
<body>

    <img src = "img/bank.png" id = "pic1" class = "ab">
    <img src = "img/bank.png" id = "pic2" class = "ab">
    <img src = "img/bank.png" id = "pic3" class = "ab">
    <img src = "img/bank.png" id = "pic4" class = "ab">
    <img src = "img/bank.png" id = "pic5" class = "ab">
    <img src = "img/bank.png" id = "pic6" class = "ab">
    
    <div id="container">
        
    </div>
</body>
<script>
    let angle = 0;
    let angle2 = 180;
      let arr = [{top: 1820, left: 410},
                 {top: 1820, left: 510},
                 {top: 1820, left: 610},
                 {top: 1900, left: 410},
                 {top: 1900, left: 510},
                 {top: 1900, left: 610}];
      let speed = [11,12,13,10,12,15]
      let downspeed = [15,18,19,17,16,19]

    $(async function() {    
        $("#pic1").css('right','0');
        $("#pic1").css('top','120px');

        $("#pic2").css('left','900px');
        $("#pic2").css('top','10px');

        $("#pic3").css('left','0px');
        $("#pic3").css('top','250px');

        $("#pic4").css('left','150px');
        $("#pic4").css('top','170px');

        $("#pic5").css('left','70px');
        $("#pic5").css('top','400px');

        $("#pic6").css('left','800');
        $("#pic7").css('top','120px');
        
        $('.ab').hide()
        $("#pic1").show(1000)
        $("#pic2").show(2000)
        $("#pic3").show(3000)
        $("#pic4").show(4000)
        $("#pic5").show(5000)
        $("#pic6").show(6000)

    })

    $(window).on('scroll',function() {
            let scrollTop = $(window).scrollTop();
            console.log()

            angle += 5;
            angle2 += 5;
            // console.log($(`#pic1`).css('left'))
            // console.log(parseInt($(`#pic1`).css('left')) - 50);


            for(let i = 1; i <= 3; i++) {
                // 이거 처음에 시작할때 left작은거하고 큰거 구분해서 넣어야할듯
                // 처음부터 left가 작은애는 default로 원래자리 맞춰진다.

                
                let imgPosition = $(`#pic${i}`).offset();
                
                
                if(arr[i-1].top > imgPosition.top) {
                    $(`#pic${i}`).css('top',$("#pic1").offset().top +  downspeed[i-1] * 2.5);
                    $(`#pic${i}`).css('transform',`rotate(${angle%360}deg)`)
                }
                if(scrollTop > 1090) {
                    $(`#pic${i}`).css('top',"1820px");
                    $(`#pic${i}`).css('transform',`rotate(${0}deg)`)
                }
                

                if(arr[i-1].left < imgPosition.left)
                    $(`#pic${i}`).css('left',parseInt($(`#pic${i}`).css('left')) - speed[i-1]);
                else if(arr[i-1].left > imgPosition.left)
                    $(`#pic${i}`).css('left',parseInt(arr[i-1].left));
            }


            for(let i = 4; i <= 6; i++) {
                // 이거 처음에 시작할때 left작은거하고 큰거 구분해서 넣어야할듯
                // 처음부터 left가 작은애는 default로 원래자리 맞춰진다.
                let imgPosition = $(`#pic${i}`).offset();
                
                if(arr[i-1].top > imgPosition.top) {
                    $(`#pic${i}`).css('top',$("#pic1").offset().top +  downspeed[i-1] * 2.5);
                    $(`#pic${i}`).css('transform',`rotate(${angle2%360}deg)`)
                }
                if(scrollTop > 1090) {
                    $(`#pic${i}`).css('top',"1900px");
                    $(`#pic${i}`).css('transform',`rotate(${0}deg)`)
                }


                    if(arr[i-1].left > imgPosition.left)
                    $(`#pic${i}`).css('left',parseInt($(`#pic${i}`).css('left')) + speed[i-1]);
                else if(arr[i-1].left < imgPosition.left)
                    $(`#pic${i}`).css('left',parseInt(arr[i-1].left));
            }
        })
</script>
</html>